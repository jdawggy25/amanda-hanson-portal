---
import BaseLayout from '../../layouts/BaseLayout.astro';
import clientsConfig from '../../../clients.config.json';

export const prerender = false;

export async function getStaticPaths() {
  const CLIENTS = clientsConfig.clients.filter(c => c.enabled).map(c => c.id);
  return CLIENTS.map(client => ({
    params: { client },
  }));
}

const { client } = Astro.params;

// Get client config
const clientConfig = clientsConfig.clients.find(c => c.id === client);
if (!clientConfig || !clientConfig.enabled) {
  return Astro.redirect('/');
}

const clientName = clientConfig.name;

// Hardcoded Ahrefs data (pulled December 24, 2025)
const currentMetrics = {
  domainRating: 32,
  ahrefsRank: 3006740,
  organicKeywords: 11,
  top3Keywords: 4,
  monthlyTraffic: 115,
  trafficValue: 90.93,
  referringDomains: 109,
  liveBacklinks: 357
};

// Historical data from Ahrefs API
const domainRatingHistory = [
  { date: "Jan 24", value: 4.9 },
  { date: "Feb 24", value: 4.6 },
  { date: "Mar 24", value: 5.0 },
  { date: "Apr 24", value: 6.0 },
  { date: "May 24", value: 6.0 },
  { date: "Jun 24", value: 7.0 },
  { date: "Jul 24", value: 8.0 },
  { date: "Aug 24", value: 7.0 },
  { date: "Sep 24", value: 25.0 },
  { date: "Oct 24", value: 27.0 },
  { date: "Nov 24", value: 25.0 },
  { date: "Dec 24", value: 24.0 },
  { date: "Jan 25", value: 25.0 },
  { date: "Feb 25", value: 25.0 },
  { date: "Mar 25", value: 25.0 },
  { date: "Apr 25", value: 24.0 },
  { date: "May 25", value: 24.0 },
  { date: "Jun 25", value: 23.0 },
  { date: "Jul 25", value: 23.0 },
  { date: "Aug 25", value: 23.0 },
  { date: "Sep 25", value: 24.0 },
  { date: "Oct 25", value: 32.0 },
  { date: "Nov 25", value: 32.0 },
  { date: "Dec 25", value: 32.0 }
];

const trafficHistory = [
  { date: "Jan 24", value: 6352 },
  { date: "Feb 24", value: 1453 },
  { date: "Mar 24", value: 133 },
  { date: "Apr 24", value: 125 },
  { date: "May 24", value: 206 },
  { date: "Jun 24", value: 153 },
  { date: "Jul 24", value: 159 },
  { date: "Aug 24", value: 152 },
  { date: "Sep 24", value: 130 },
  { date: "Oct 24", value: 133 },
  { date: "Nov 24", value: 125 },
  { date: "Dec 24", value: 119 },
  { date: "Jan 25", value: 152 },
  { date: "Feb 25", value: 96 },
  { date: "Mar 25", value: 111 },
  { date: "Apr 25", value: 123 },
  { date: "May 25", value: 120 },
  { date: "Jun 25", value: 122 },
  { date: "Jul 25", value: 111 },
  { date: "Aug 25", value: 167 },
  { date: "Sep 25", value: 151 },
  { date: "Oct 25", value: 123 },
  { date: "Nov 25", value: 126 },
  { date: "Dec 25", value: 116 }
];

const refdomainsHistory = [
  { date: "Jan 24", value: 16 },
  { date: "Feb 24", value: 19 },
  { date: "Mar 24", value: 20 },
  { date: "Apr 24", value: 21 },
  { date: "May 24", value: 24 },
  { date: "Jun 24", value: 29 },
  { date: "Jul 24", value: 33 },
  { date: "Aug 24", value: 36 },
  { date: "Sep 24", value: 40 },
  { date: "Oct 24", value: 46 },
  { date: "Nov 24", value: 46 },
  { date: "Dec 24", value: 52 },
  { date: "Jan 25", value: 60 },
  { date: "Feb 25", value: 67 },
  { date: "Mar 25", value: 68 },
  { date: "Apr 25", value: 73 },
  { date: "May 25", value: 78 },
  { date: "Jun 25", value: 77 },
  { date: "Jul 25", value: 86 },
  { date: "Aug 25", value: 90 },
  { date: "Sep 25", value: 97 },
  { date: "Oct 25", value: 99 },
  { date: "Nov 25", value: 98 },
  { date: "Dec 25", value: 109 }
];

// Top keywords (filtered for appropriateness)
const topKeywords = [
  { keyword: "dr amanda hanson", position: 1, volume: 150, traffic: 57, difficulty: 2 },
  { keyword: "amanda hanson", position: 1, volume: 250, traffic: 45, difficulty: 3 },
  { keyword: "amanda hansen", position: 9, volume: 70, traffic: 2, difficulty: 0 },
  { keyword: "self love program", position: 10, volume: 10, traffic: 0, difficulty: 3 },
  { keyword: "amanda hanson wikipedia", position: 3, volume: 0, traffic: 0, difficulty: 0 }
];

// Top pages
const topPages = [
  { url: "/", traffic: 126, keywords: 4, topKeyword: "dr amanda hanson", position: 1, value: 67.98 },
  { url: "/about/", traffic: 19, keywords: 5, topKeyword: "dr amanda hanson", position: 5, value: 16.98 },
  { url: "/book/", traffic: 3, keywords: 3, topKeyword: "dr amanda hanson", position: 1, value: 1.89 },
  { url: "/podcast/", traffic: 3, keywords: 2, topKeyword: "dr amanda hanson", position: 1, value: 1.89 },
  { url: "/workwithamanda/", traffic: 3, keywords: 3, topKeyword: "dr amanda hanson", position: 1, value: 1.89 },
  { url: "/selflove/", traffic: 2, keywords: 1, topKeyword: "self love program", position: 3, value: 0.29 }
];

// Competitors
const competitors = [
  { domain: "americanessence.com", dr: 32, commonKeywords: 4, traffic: 1376, share: 80 },
  { domain: "mindvalley.com", dr: 78, commonKeywords: 2, traffic: 104244, share: 0 },
  { domain: "eomega.org", dr: 74, commonKeywords: 1, traffic: 14623, share: 0 }
];

// Prepare chart data
const drLabels = domainRatingHistory.map(d => d.date);
const drValues = domainRatingHistory.map(d => d.value);
const trafficLabels = trafficHistory.map(d => d.date);
const trafficValues = trafficHistory.map(d => d.value);
const refdomainLabels = refdomainsHistory.map(d => d.date);
const refdomainValues = refdomainsHistory.map(d => d.value);

// Growth calculations
const drGrowth = Math.round(((32 - 4.9) / 4.9) * 100);
const refDomainsGrowth = Math.round(((109 - 16) / 16) * 100);
---

<BaseLayout title={`${clientName} - SEO Report`}>
  <main class="report-main">
    <div class="report-container">

      <!-- Header -->
      <header class="report-header">
        <div class="header-badge">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 3v18h18"></path>
            <path d="m19 9-5 5-4-4-3 3"></path>
          </svg>
          SEO Performance Report
        </div>
        <h1>{clientName}</h1>
        <p class="header-subtitle">Comprehensive SEO Analysis & 3-Month Strategy</p>
        <p class="header-date">Data from Ahrefs API | December 24, 2025</p>
      </header>

      <!-- Key Metrics -->
      <section class="metrics-section">
        <h2 class="section-title">Current Performance</h2>
        <div class="metrics-grid">
          <div class="metric-card primary">
            <div class="metric-value">{currentMetrics.domainRating}</div>
            <div class="metric-label">Domain Rating</div>
            <div class="metric-change positive">+{drGrowth}% YoY</div>
          </div>
          <div class="metric-card">
            <div class="metric-value">{currentMetrics.monthlyTraffic}</div>
            <div class="metric-label">Monthly Traffic</div>
            <div class="metric-change">visits/month</div>
          </div>
          <div class="metric-card">
            <div class="metric-value">{currentMetrics.referringDomains}</div>
            <div class="metric-label">Referring Domains</div>
            <div class="metric-change positive">+{refDomainsGrowth}% YoY</div>
          </div>
          <div class="metric-card">
            <div class="metric-value">{currentMetrics.organicKeywords}</div>
            <div class="metric-label">Organic Keywords</div>
            <div class="metric-change">{currentMetrics.top3Keywords} in Top 3</div>
          </div>
        </div>
      </section>

      <!-- Charts -->
      <section class="charts-section">
        <h2 class="section-title">24-Month Trends</h2>

        <div class="chart-wrapper">
          <div class="chart-header">
            <h3>Domain Rating</h3>
            <span class="chart-value">{currentMetrics.domainRating} <span class="growth">+{drGrowth}%</span></span>
          </div>
          <div class="chart-area" id="dr-chart"
               data-labels={JSON.stringify(drLabels)}
               data-values={JSON.stringify(drValues)}
               data-color="#3b82f6"
               data-max="40"></div>
        </div>

        <div class="chart-wrapper">
          <div class="chart-header">
            <h3>Referring Domains</h3>
            <span class="chart-value">{currentMetrics.referringDomains} <span class="growth">+{refDomainsGrowth}%</span></span>
          </div>
          <div class="chart-area" id="refdomains-chart"
               data-labels={JSON.stringify(refdomainLabels)}
               data-values={JSON.stringify(refdomainValues)}
               data-color="#22c55e"
               data-max="120"></div>
        </div>

        <div class="chart-wrapper full">
          <div class="chart-header">
            <h3>Organic Traffic</h3>
            <span class="chart-value">{currentMetrics.monthlyTraffic} visits/mo</span>
          </div>
          <div class="chart-area tall" id="traffic-chart"
               data-labels={JSON.stringify(trafficLabels)}
               data-values={JSON.stringify(trafficValues)}
               data-color="#8b5cf6"
               data-max="7000"></div>
        </div>
      </section>

      <!-- Keywords Table -->
      <section class="table-section">
        <h2 class="section-title">Top Ranking Keywords</h2>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Keyword</th>
                <th>Pos</th>
                <th>Volume</th>
                <th>Traffic</th>
                <th>KD</th>
              </tr>
            </thead>
            <tbody>
              {topKeywords.map((kw) => (
                <tr>
                  <td class="keyword">{kw.keyword}</td>
                  <td><span class={`pos-badge ${kw.position <= 3 ? 'top3' : kw.position <= 10 ? 'top10' : ''}`}>#{kw.position}</span></td>
                  <td>{kw.volume}</td>
                  <td>{kw.traffic}</td>
                  <td><span class={`kd-badge ${kw.difficulty <= 10 ? 'easy' : kw.difficulty <= 30 ? 'medium' : 'hard'}`}>{kw.difficulty}</span></td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </section>

      <!-- Top Pages Table -->
      <section class="table-section">
        <h2 class="section-title">Top Pages</h2>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Page</th>
                <th>Traffic</th>
                <th>Keywords</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              {topPages.map((page) => (
                <tr>
                  <td class="url">{page.url}</td>
                  <td>{page.traffic}</td>
                  <td>{page.keywords}</td>
                  <td class="value">${page.value.toFixed(2)}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </section>

      <!-- Organic Competitors -->
      <section class="table-section">
        <h2 class="section-title">Organic Competitors</h2>
        <p class="section-description">Sites competing for similar keywords in organic search</p>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Domain</th>
                <th>DR</th>
                <th>Common Keywords</th>
                <th>Traffic</th>
                <th>Share</th>
              </tr>
            </thead>
            <tbody>
              {competitors.map((comp) => (
                <tr>
                  <td class="url">{comp.domain}</td>
                  <td><span class="dr-badge">{comp.dr}</span></td>
                  <td>{comp.commonKeywords}</td>
                  <td>{comp.traffic.toLocaleString()}</td>
                  <td>{comp.share > 0 ? `${comp.share}%` : '<1%'}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
        <div class="insight-box">
          <strong>Competitive Analysis:</strong> Most competitors are news sites or large platforms with mentions. americanessence.com is the only true competitor with 80% keyword overlap. Mindvalley could be a partnership opportunity.
        </div>
      </section>

      <!-- 3-Month Strategy -->
      <section class="strategy-section">
        <h2 class="section-title">3-Month SEO Strategy</h2>

        <div class="month-block">
          <div class="month-header">
            <span class="month-num">01</span>
            <div>
              <h3>Foundation & Technical</h3>
              <p>Build the technical SEO foundation</p>
            </div>
          </div>
          <div class="month-content">
            <div class="task-group">
              <h4>Technical SEO</h4>
              <ul>
                <li>Fix Core Web Vitals (LCP, CLS, INP)</li>
                <li>Implement schema markup (Person, Organization)</li>
                <li>Optimize site speed (target 95+ Lighthouse)</li>
                <li>Create XML sitemap & robots.txt</li>
              </ul>
            </div>
            <div class="task-group">
              <h4>Content Foundation</h4>
              <ul>
                <li>Optimize homepage for branded terms</li>
                <li>Create pillar page: "Midlife Reinvention Guide"</li>
                <li>Add testimonials and credentials</li>
                <li>Implement FAQ schema on key pages</li>
              </ul>
            </div>
          </div>
          <div class="month-targets">
            <div class="target"><span>DR</span><strong>35</strong></div>
            <div class="target"><span>Keywords</span><strong>25</strong></div>
            <div class="target"><span>Traffic</span><strong>200</strong></div>
          </div>
        </div>

        <div class="month-block">
          <div class="month-header">
            <span class="month-num">02</span>
            <div>
              <h3>Content & Authority</h3>
              <p>Expand content and build authority</p>
            </div>
          </div>
          <div class="month-content">
            <div class="task-group">
              <h4>Content Strategy</h4>
              <ul>
                <li>Create hub page for "Self Love" topic</li>
                <li>Publish 4 supporting blog posts</li>
                <li>Internal linking optimization</li>
                <li>Content refresh on existing pages</li>
              </ul>
            </div>
            <div class="task-group">
              <h4>Outreach & PR</h4>
              <ul>
                <li>Guest post on 3 wellness sites</li>
                <li>Podcast appearance outreach</li>
                <li>HARO responses (3x/week)</li>
                <li>Expert quote contributions</li>
              </ul>
            </div>
          </div>
          <div class="month-targets">
            <div class="target"><span>DR</span><strong>38</strong></div>
            <div class="target"><span>Keywords</span><strong>50</strong></div>
            <div class="target"><span>Traffic</span><strong>500</strong></div>
          </div>
        </div>

        <div class="month-block">
          <div class="month-header">
            <span class="month-num">03</span>
            <div>
              <h3>Scaling & Conversion</h3>
              <p>Scale traffic and optimize conversions</p>
            </div>
          </div>
          <div class="month-content">
            <div class="task-group">
              <h4>Traffic Scaling</h4>
              <ul>
                <li>Publish 8 new blog posts (2/week)</li>
                <li>Target long-tail "midlife" keywords</li>
                <li>Video content optimization</li>
                <li>Pinterest SEO strategy</li>
              </ul>
            </div>
            <div class="task-group">
              <h4>Conversion</h4>
              <ul>
                <li>CTA optimization on top pages</li>
                <li>A/B test lead magnets</li>
                <li>Optimize program landing pages</li>
                <li>Set up conversion tracking</li>
              </ul>
            </div>
          </div>
          <div class="month-targets">
            <div class="target"><span>DR</span><strong>42</strong></div>
            <div class="target"><span>Keywords</span><strong>100</strong></div>
            <div class="target"><span>Traffic</span><strong>1,000</strong></div>
          </div>
        </div>
      </section>

      <!-- Quick Wins -->
      <section class="quickwins-section">
        <h2 class="section-title">Quick Win Opportunities</h2>
        <div class="quickwins-grid">
          <div class="quickwin high">
            <span class="priority">HIGH PRIORITY</span>
            <h4>Optimize /selflove/ page</h4>
            <p>Currently #10 for "self love program". Add content, testimonials, and CTAs to push into top 5.</p>
          </div>
          <div class="quickwin high">
            <span class="priority">HIGH PRIORITY</span>
            <h4>Expand About page</h4>
            <p>Add E-E-A-T signals: credentials, media mentions, testimonials to boost authority.</p>
          </div>
          <div class="quickwin medium">
            <span class="priority">MEDIUM</span>
            <h4>Internal linking</h4>
            <p>Add CTAs from /about/ (19 visits/mo) to /workwithamanda/ to improve conversions.</p>
          </div>
          <div class="quickwin medium">
            <span class="priority">MEDIUM</span>
            <h4>Expand homepage</h4>
            <p>Add more content sections to capture related queries and improve engagement.</p>
          </div>
        </div>
      </section>

      <!-- Summary -->
      <section class="summary-section">
        <h2 class="section-title">3-Month Targets</h2>
        <div class="summary-grid">
          <div class="summary-item">
            <div class="summary-metric">Domain Rating</div>
            <div class="summary-values">
              <span class="current">{currentMetrics.domainRating}</span>
              <span class="arrow">→</span>
              <span class="target">42</span>
            </div>
            <div class="summary-growth">+31%</div>
          </div>
          <div class="summary-item">
            <div class="summary-metric">Keywords</div>
            <div class="summary-values">
              <span class="current">{currentMetrics.organicKeywords}</span>
              <span class="arrow">→</span>
              <span class="target">100</span>
            </div>
            <div class="summary-growth">+809%</div>
          </div>
          <div class="summary-item">
            <div class="summary-metric">Traffic</div>
            <div class="summary-values">
              <span class="current">{currentMetrics.monthlyTraffic}</span>
              <span class="arrow">→</span>
              <span class="target">1,000</span>
            </div>
            <div class="summary-growth">+770%</div>
          </div>
          <div class="summary-item">
            <div class="summary-metric">Ref Domains</div>
            <div class="summary-values">
              <span class="current">{currentMetrics.referringDomains}</span>
              <span class="arrow">→</span>
              <span class="target">150</span>
            </div>
            <div class="summary-growth">+38%</div>
          </div>
        </div>
      </section>

      <a href={`/${client}`} class="back-link">← Back to Dashboard</a>
    </div>
  </main>
</BaseLayout>

<script>
  // Load ApexCharts from CDN for reliable client-side rendering
  const script = document.createElement('script');
  script.src = 'https://cdn.jsdelivr.net/npm/apexcharts@3.44.0/dist/apexcharts.min.js';
  script.onload = initCharts;
  document.head.appendChild(script);

  function initCharts() {
    const charts = document.querySelectorAll('.chart-area');

    if (!window.ApexCharts) {
      console.error('ApexCharts not loaded');
      return;
    }

    charts.forEach((el) => {
      const labels = JSON.parse(el.getAttribute('data-labels') || '[]');
      const values = JSON.parse(el.getAttribute('data-values') || '[]');
      const color = el.getAttribute('data-color') || '#3b82f6';
      const max = parseInt(el.getAttribute('data-max') || '100');
      const height = el.classList.contains('tall') ? 280 : 220;

      const options = {
        series: [{ name: 'Value', data: values }],
        chart: {
          type: 'area',
          height: height,
          background: 'transparent',
          toolbar: { show: false },
          animations: { enabled: true, easing: 'easeinout', speed: 800 },
          fontFamily: 'inherit',
          zoom: { enabled: false }
        },
        dataLabels: { enabled: false },
        stroke: {
          curve: 'smooth',
          width: 3
        },
        fill: {
          type: 'gradient',
          gradient: {
            shadeIntensity: 1,
            opacityFrom: 0.45,
            opacityTo: 0.05,
            stops: [0, 100]
          }
        },
        markers: {
          size: 0,
          hover: { size: 5 }
        },
        xaxis: {
          categories: labels,
          labels: {
            style: { colors: '#94a3b8', fontSize: '10px' },
            rotate: -45,
            rotateAlways: false,
            hideOverlappingLabels: true,
            trim: true,
            maxHeight: 60
          },
          axisBorder: { show: false },
          axisTicks: { show: false }
        },
        yaxis: {
          min: 0,
          max: max,
          labels: {
            style: { colors: '#94a3b8', fontSize: '11px' },
            formatter: function(val) { return Math.round(val); }
          }
        },
        grid: {
          borderColor: '#1e293b',
          strokeDashArray: 4,
          xaxis: { lines: { show: false } }
        },
        tooltip: {
          theme: 'dark',
          style: { fontSize: '13px' },
          y: { formatter: function(val) { return val.toLocaleString(); } },
          marker: { show: true }
        },
        colors: [color]
      };

      const chart = new window.ApexCharts(el, options);
      chart.render();
    });
  }
</script>

<style>
  .report-main {
    min-height: 100vh;
    padding: 2rem 1rem 4rem;
  }

  .report-container {
    max-width: 1000px;
    margin: 0 auto;
  }

  /* Header */
  .report-header {
    margin-bottom: 3rem;
  }

  .header-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: 2rem;
    font-size: 0.8rem;
    font-weight: 600;
    color: #3b82f6;
    margin-bottom: 1.5rem;
  }

  .report-header h1 {
    font-size: clamp(2rem, 6vw, 3.5rem);
    font-weight: 700;
    color: #f8fafc;
    margin-bottom: 0.75rem;
    line-height: 1.1;
  }

  .header-subtitle {
    font-size: 1.25rem;
    color: #94a3b8;
    margin-bottom: 0.5rem;
  }

  .header-date {
    font-size: 0.875rem;
    color: #64748b;
  }

  /* Section Titles */
  .section-title {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #3b82f6;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid #1e293b;
  }

  /* Metrics Grid */
  .metrics-section {
    margin-bottom: 3rem;
  }

  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .metrics-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .metric-card {
    background: #0f172a;
    border: 1px solid #1e293b;
    border-radius: 1rem;
    padding: 1.5rem;
    text-align: center;
  }

  .metric-card.primary {
    border-color: #3b82f6;
    background: linear-gradient(135deg, #0f172a 0%, rgba(59, 130, 246, 0.1) 100%);
  }

  .metric-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: #f8fafc;
    line-height: 1;
    margin-bottom: 0.5rem;
  }

  .metric-label {
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #64748b;
    margin-bottom: 0.5rem;
  }

  .metric-change {
    font-size: 0.8rem;
    color: #94a3b8;
  }

  .metric-change.positive {
    color: #22c55e;
  }

  /* Charts */
  .charts-section {
    margin-bottom: 3rem;
  }

  .chart-wrapper {
    background: #0f172a;
    border: 1px solid #1e293b;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 1rem;
  }

  .chart-wrapper.full {
    margin-top: 1rem;
  }

  .chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .chart-header h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #f8fafc;
  }

  .chart-value {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f8fafc;
  }

  .chart-value .growth {
    font-size: 0.875rem;
    color: #22c55e;
    margin-left: 0.5rem;
  }

  .chart-area {
    height: 220px;
  }

  .chart-area.tall {
    height: 280px;
  }

  /* Tables */
  .table-section {
    margin-bottom: 3rem;
  }

  .table-container {
    overflow-x: auto;
    background: #0f172a;
    border: 1px solid #1e293b;
    border-radius: 1rem;
    -webkit-overflow-scrolling: touch;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    min-width: 500px;
  }

  th, td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid #1e293b;
  }

  th {
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #64748b;
    background: #0c1322;
  }

  td {
    font-size: 0.9rem;
    color: #94a3b8;
  }

  td.keyword, td.url {
    font-weight: 600;
    color: #f8fafc;
  }

  td.url {
    font-family: monospace;
    font-size: 0.85rem;
    color: #3b82f6;
  }

  td.value {
    color: #22c55e;
    font-weight: 600;
  }

  .pos-badge, .kd-badge {
    display: inline-block;
    padding: 0.25rem 0.6rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 700;
  }

  .pos-badge {
    background: #1e293b;
    color: #94a3b8;
  }

  .pos-badge.top3 {
    background: rgba(34, 197, 94, 0.2);
    color: #22c55e;
  }

  .pos-badge.top10 {
    background: rgba(59, 130, 246, 0.2);
    color: #3b82f6;
  }

  .kd-badge.easy {
    background: rgba(34, 197, 94, 0.2);
    color: #22c55e;
  }

  .kd-badge.medium {
    background: rgba(251, 191, 36, 0.2);
    color: #fbbf24;
  }

  .kd-badge.hard {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
  }

  .dr-badge {
    display: inline-block;
    padding: 0.25rem 0.6rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 700;
    background: rgba(139, 92, 246, 0.2);
    color: #8b5cf6;
  }

  .section-description {
    font-size: 0.875rem;
    color: #64748b;
    margin-top: -1rem;
    margin-bottom: 1.5rem;
  }

  .insight-box {
    margin-top: 1rem;
    padding: 1rem 1.25rem;
    background: rgba(59, 130, 246, 0.1);
    border-left: 3px solid #3b82f6;
    border-radius: 0 0.5rem 0.5rem 0;
    font-size: 0.875rem;
    color: #94a3b8;
    line-height: 1.6;
  }

  .insight-box strong {
    color: #3b82f6;
  }

  /* Strategy */
  .strategy-section {
    margin-bottom: 3rem;
  }

  .month-block {
    background: #0f172a;
    border: 1px solid #1e293b;
    border-radius: 1rem;
    padding: 1.5rem;
    margin-bottom: 1rem;
  }

  .month-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .month-num {
    font-size: 2rem;
    font-weight: 700;
    color: #3b82f6;
    line-height: 1;
  }

  .month-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f8fafc;
    margin-bottom: 0.25rem;
  }

  .month-header p {
    font-size: 0.875rem;
    color: #64748b;
  }

  .month-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
  }

  @media (min-width: 640px) {
    .month-content {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .task-group h4 {
    font-size: 0.8rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #94a3b8;
    margin-bottom: 0.75rem;
  }

  .task-group ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .task-group li {
    position: relative;
    padding-left: 1.25rem;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    color: #cbd5e1;
  }

  .task-group li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: #3b82f6;
  }

  .month-targets {
    display: flex;
    gap: 2rem;
    padding-top: 1rem;
    border-top: 1px solid #1e293b;
  }

  .target {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .target span {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #64748b;
  }

  .target strong {
    font-size: 1.5rem;
    font-weight: 700;
    color: #3b82f6;
  }

  /* Quick Wins */
  .quickwins-section {
    margin-bottom: 3rem;
  }

  .quickwins-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .quickwins-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .quickwin {
    background: #0f172a;
    border: 1px solid #1e293b;
    border-radius: 1rem;
    padding: 1.5rem;
  }

  .quickwin .priority {
    display: inline-block;
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: 0.3rem 0.6rem;
    border-radius: 0.25rem;
    margin-bottom: 0.75rem;
  }

  .quickwin.high .priority {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
  }

  .quickwin.medium .priority {
    background: rgba(251, 191, 36, 0.2);
    color: #fbbf24;
  }

  .quickwin h4 {
    font-size: 1rem;
    font-weight: 600;
    color: #f8fafc;
    margin-bottom: 0.5rem;
  }

  .quickwin p {
    font-size: 0.875rem;
    color: #94a3b8;
    line-height: 1.5;
  }

  /* Summary */
  .summary-section {
    background: linear-gradient(135deg, #0f172a 0%, rgba(59, 130, 246, 0.1) 100%);
    border: 1px solid #3b82f6;
    border-radius: 1rem;
    padding: 2rem;
    margin-bottom: 2rem;
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .summary-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .summary-item {
    text-align: center;
  }

  .summary-metric {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #3b82f6;
    margin-bottom: 0.75rem;
  }

  .summary-values {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
  }

  .summary-values .current {
    font-size: 1.25rem;
    color: #94a3b8;
  }

  .summary-values .arrow {
    color: #3b82f6;
  }

  .summary-values .target {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f8fafc;
  }

  .summary-growth {
    font-size: 1rem;
    font-weight: 700;
    color: #22c55e;
  }

  /* Back Link */
  .back-link {
    display: inline-block;
    color: #3b82f6;
    font-weight: 500;
    text-decoration: none;
    padding: 1rem 0;
  }

  .back-link:hover {
    text-decoration: underline;
  }
</style>
